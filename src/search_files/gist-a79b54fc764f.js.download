"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["gist"],{89806(a,b,c){c(57088),c(99874),c(47851);var d=c(68423),e=c(54697),f=c(64463),g=c(59753),h=c(254);function i(a){let b=a.querySelector(".js-gist-files"),c=document.getElementById("js-gist-file-template"),d=c.content.cloneNode(!0);b.appendChild(d);let e=b.lastElementChild;for(let f of e.querySelectorAll("[id]"))"blob-dragged-file-input"!==f.id&&f.removeAttribute("id");let g=e.querySelector(".js-code-textarea");return null!==g&&g.setAttribute("id",`blob_contents_${Date.now()}`),e}function j(a){return(0,e.g)(a.closest(".js-code-editor"))}async function k(a){let b=a.getAttribute("data-language-detection-url");if(!b)return;let c=new URL(b,window.location.origin),d=new URLSearchParams(c.search.slice(1));d.append("filename",a.value),c.search=d.toString();let e=await fetch(c.toString(),{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(!e.ok){let f=Error(),g=e.statusText?` ${e.statusText}`:"";throw f.message=`HTTP ${e.status}${g}`,f}let h=await e.json(),i=await j(a);i.setMode(h.language)}function l(a){let b=a.querySelectorAll(".js-remove-gist-file");for(let c of b)c.classList.toggle("d-none",b.length<2)}(0,h.ZG)(".js-gist-filename",async a=>{let b=a,c=a.closest(".js-code-editor");await j(c),(0,d.oq)(b,k),a.addEventListener("blur",()=>(0,d.iU)(b,k),{once:!0})}),(0,g.on)("click",".js-add-gist-file",function(a){a.preventDefault();let b=a.currentTarget.closest(".js-blob-form");i(b).scrollIntoView()}),(0,g.on)("gist:filedrop",".js-blob-form",async function(a){let{file:b,data:c}=a.detail,d=function(a){for(let b of a.querySelectorAll(".js-gist-file")){let c=b.querySelector(".js-gist-filename"),d=b.querySelector(".js-blob-contents");if(!c.value&&!d.value)return b}return i(a)}(a.currentTarget),e=d.querySelector(".js-gist-filename");e.value=b.name,k(e);let f=await j(e);f.setCode(c),d.scrollIntoView()}),(0,g.on)("click",".js-remove-gist-file",function(a){a.preventDefault();let b=a.currentTarget.closest(".js-gist-file");if(!b)return;for(let c of b.querySelectorAll(".js-gist-deleted input"))c.disabled=!1;let d=b.querySelector(".js-code-editor");d||(d=b.querySelector(".js-file")),d.remove()}),(0,f.N7)(".js-remove-gist-file",function(a){let b=a.closest(".js-gist-files");return{add(){l(b)},remove(){l(b)}}});var m=c(4738),n=c(54650);(0,h.ZG)(".js-quicksearch-field",function(a){(0,m.VF)(a.form.querySelector(".js-quicksearch-results"))}),(0,h.q6)(".js-quicksearch-field",p),(0,g.on)("navigation:keydown",".js-quicksearch-results",function(a){let b=a,c=b.target,d=c.closest("form");if("Escape"===b.detail.hotkey){let e=d.querySelector(".js-quicksearch-results");e.classList.remove("active"),(0,m.ZH)(e)}else"Enter"!==b.detail.hotkey||c.classList.contains("js-navigation-item")||((0,n.Bt)(d),b.preventDefault())}),(0,g.on)("submit",".js-quicksearch-form",function(a){let b=a.currentTarget.querySelector(".js-quicksearch-results");b&&(b.classList.remove("active"),(0,m.Sw)(b))}),(0,g.on)("focusout:delay",".js-quicksearch-field",function(a){let b=a.currentTarget.closest("form"),c=b.querySelector(".js-quicksearch-results");c&&(c.classList.remove("active"),(0,m.Sw)(c))});let o=null;async function p(a){let b=a.target,c=b.value.replace(/^\s+|\s+$/g,""),d=b.closest("form"),e=d.querySelector(".js-quicksearch-results"),f=e.getAttribute("data-quicksearch-url"),g="";o?.abort();let{signal:h}=o=new AbortController;if(c.length){let i=new URL(f,window.location.origin),j=new URLSearchParams(i.search.slice(1));j.append("q",c),i.search=j.toString(),d.classList.add("is-sending");try{let k=await fetch(i.toString(),{signal:h});k.ok&&(g=await k.text())}catch{}}h.aborted||(g&&(e.innerHTML=g),e.classList.toggle("active",""!==c),d.classList.remove("is-sending"))}(0,c(65935).AC)(".js-gist-file-update-container .js-comment-update",async function(a,b){let c;try{c=await b.json()}catch(d){return}if(a.action=c.json.url,c.json.authenticity_token){let e=a.querySelector("input[name=authenticity_token]");e.value=c.json.authenticity_token}}),(0,f.N7)(".js-gist-comment-permalink",function(a){let b=a.getAttribute("data-href");a.textContent=`${window.location.origin}${b}`}),(0,f.N7)(".js-gist-dropzone",()=>{c.e("app_assets_modules_github_gist_drag-drop_ts").then(c.bind(c,36928))})},94313(a,b,c){c.d(b,{Ty:()=>e,YE:()=>f,Zf:()=>g});var d=c(11793);let e=()=>{let a=document.querySelector("meta[name=keyboard-shortcuts-preference]");return!a||"all"===a.content},f=a=>/Enter|Arrow|Escape|Meta|Control|Esc/.test(a)||a.includes("Alt")&&a.includes("Shift"),g=a=>{let b=(0,d.EL)(a);return!!e()||f(b)}},54697(a,b,c){c.d(b,{P:()=>f,g:()=>g});var d=c(59753);let e=new WeakMap;function f(a){return e.get(a)}async function g(a){return e.get(a)||h(await i(a,"codeEditor:ready"))}function h(a){if(!(a instanceof CustomEvent))throw Error("assert: event is not a CustomEvent");let b=a.detail.editor;if(!a.target)throw Error("assert: event.target is null");return e.set(a.target,b),b}function i(a,b){return new Promise(c=>{a.addEventListener(b,c,{once:!0})})}(0,d.on)("codeEditor:ready",".js-code-editor",h)},51754(a,b,c){function d(a){let b=a.getBoundingClientRect();return{top:b.top+window.pageYOffset,left:b.left+window.pageXOffset}}function e(a){let b=a,c=b.ownerDocument;if(!c||!b.offsetParent)return;let d=c.defaultView.HTMLElement;if(b!==c.body){for(;b!==c.body;){if(!(b.parentElement instanceof d))return;b=b.parentElement;let{position:e,overflowY:f,overflowX:g}=getComputedStyle(b);if("fixed"===e||"auto"===f||"auto"===g||"scroll"===f||"scroll"===g)break}return b instanceof Document?null:b}}function f(a,b){let c=b,d=a.ownerDocument;if(!d)return;let e=d.documentElement;if(!e||a===e)return;let f=g(a,c);if(!f)return;c=f._container;let h=c===d.documentElement&&d.defaultView?{top:d.defaultView.pageYOffset,left:d.defaultView.pageXOffset}:{top:c.scrollTop,left:c.scrollLeft},i=f.top-h.top,j=f.left-h.left,k=c.clientHeight,l=c.clientWidth,m=k-(i+a.offsetHeight),n=l-(j+a.offsetWidth);return{top:i,left:j,bottom:m,right:n,height:k,width:l}}function g(a,b){let c=a,d=c.ownerDocument;if(!d)return;let e=d.documentElement;if(!e)return;let f=d.defaultView.HTMLElement,g=0,j=0,k=c.offsetHeight,l=c.offsetWidth;for(;!(c===d.body||c===b);){if(g+=c.offsetTop||0,j+=c.offsetLeft||0,!(c.offsetParent instanceof f))return;c=c.offsetParent}let m,n,o;if(b&&b!==d&&b!==d.defaultView&&b!==d.documentElement&&b!==d.body){if(!(b instanceof f))return;o=b,m=b.scrollHeight,n=b.scrollWidth}else o=e,m=h(d.body,e),n=i(d.body,e);let p=m-(g+k),q=n-(j+l);return{top:g,left:j,bottom:p,right:q,_container:o}}function h(a,b){return Math.max(a.scrollHeight,b.scrollHeight,a.offsetHeight,b.offsetHeight,b.clientHeight)}function i(a,b){return Math.max(a.scrollWidth,b.scrollWidth,a.offsetWidth,b.offsetWidth,b.clientWidth)}c.d(b,{VZ:()=>e,"_C":()=>f,cv:()=>d,oE:()=>g})},80721(a,b,c){c.d(b,{C:()=>e,x:()=>d});let d="interactive"===document.readyState||"complete"===document.readyState?Promise.resolve():new Promise(a=>{document.addEventListener("DOMContentLoaded",()=>{a()})}),e="complete"===document.readyState?Promise.resolve():new Promise(a=>{window.addEventListener("load",a)})},87098(a,b,c){function d(a,b=location.hash){return e(a,f(b))}function e(a,b){return""===b?null:a.getElementById(b)||a.getElementsByName(b)[0]}function f(a){try{return decodeURIComponent(a.slice(1))}catch{return""}}c.d(b,{"$z":()=>f,Kt:()=>d,Q:()=>e})},4738(a,b,c){c.d(b,{QZ:()=>v,ZH:()=>B,jK:()=>w,T_:()=>A,Sw:()=>z,VF:()=>y,VH:()=>C});var d=c(76932),e=c(59753),f=c(51754),g=c(11793),h=c(94313),i=c(64463);function j(a,b){let c=a,d=a.ownerDocument;(c===d||c===d.defaultView||c===d.documentElement||c===d.body)&&(c=d);let e=d.defaultView.Document;if(c instanceof e){let f=null!=b.top?b.top:d.defaultView.pageYOffset,g=null!=b.left?b.left:d.defaultView.pageXOffset;d.defaultView.scrollTo(g,f);return}let h=d.defaultView.HTMLElement;if(!(c instanceof h))throw Error("invariant");c.scrollTop=b.top,null!=b.left&&(c.scrollLeft=b.left)}var k=c(97629);let l=navigator.userAgent.match(/Macintosh/),m=l?"metaKey":"ctrlKey",n=l?"Meta":"Control",o=!1,p={x:0,y:0};function q(a){a instanceof MouseEvent&&((p.x!==a.clientX||p.y!==a.clientY)&&(o=!1),p={x:a.clientX,y:a.clientY})}function r(a){if(o)return;let b=a.currentTarget,{target:c}=a;if(!(c instanceof Element)||!(b instanceof HTMLElement)||!b.closest(".js-active-navigation-container"))return;let d=c.closest(".js-navigation-item");d&&I(d,b)}(0,i.N7)(".js-navigation-container:not(.js-navigation-container-no-mouse)",{subscribe:a=>(0,d.qC)((0,d.RB)(a,"mouseover",q),(0,d.RB)(a,"mouseover",r))});let s=0;function t(a){if(a.target!==document.body&&a.target instanceof HTMLElement&&!a.target.classList.contains("js-navigation-enable"))return;o=!0;let b=J(),c=!1;if(b){let d=b.querySelector(".js-navigation-item.navigation-focus")||b;c=(0,e.f)(d,"navigation:keydown",{hotkey:(0,g.EL)(a),originalEvent:a,originalTarget:a.target})}c||a.preventDefault()}function u(a){let b=a.modifierKey||a.altKey||a.ctrlKey||a.metaKey,c=(0,e.f)(a.currentTarget,"navigation:open",{modifierKey:b,shiftKey:a.shiftKey});c||a.preventDefault()}function v(a){let b=J();a!==b&&(null!==b&&w(b),a?.classList.add("js-active-navigation-container"))}function w(a){a.classList.remove("js-active-navigation-container")}(0,i.N7)(".js-active-navigation-container",{add(){1== ++s&&document.addEventListener("keydown",t)},remove(){0== --s&&document.removeEventListener("keydown",t)}}),(0,e.on)("navigation:keydown",".js-active-navigation-container",function(a){let b=a.currentTarget,c=a.detail.originalTarget.matches("input, textarea"),d=a.target;if((0,h.Zf)(a.detail.originalEvent)){if(d.classList.contains("js-navigation-item")){if(c){if(l)switch((0,g.EL)(a.detail.originalEvent)){case"Control+n":E(d,b);break;case"Control+p":D(d,b)}switch((0,g.EL)(a.detail.originalEvent)){case"ArrowUp":D(d,b);break;case"ArrowDown":E(d,b);break;case"Enter":case`${n}+Enter`:H(d,a.detail.originalEvent[m])}}else{if(l)switch((0,g.EL)(a.detail.originalEvent)){case"Control+n":E(d,b);break;case"Control+p":D(d,b);break;case"Alt+v":F(d,b);break;case"Control+v":G(d,b)}switch((0,g.EL)(a.detail.originalEvent)){case"j":case"J":E(d,b);break;case"k":case"K":D(d,b);break;case"o":case"Enter":case`${n}+Enter`:H(d,a.detail[m])}}}else{let e=K(b)[0];if(e){if(c)l&&"Control+n"===(0,g.EL)(a.detail.originalEvent)&&I(e,b),"ArrowDown"===(0,g.EL)(a.detail.originalEvent)&&I(e,b);else{if(l)switch((0,g.EL)(a.detail.originalEvent)){case"Control+n":case"Control+v":I(e,b)}"j"===(0,g.EL)(a.detail.originalEvent)&&I(e,b)}}}if(c){if(l)switch((0,g.EL)(a.detail.originalEvent)){case"Control+n":case"Control+p":a.preventDefault()}switch((0,g.EL)(a.detail.originalEvent)){case"ArrowUp":case"ArrowDown":case"Enter":a.preventDefault()}}else{if(l)switch((0,g.EL)(a.detail.originalEvent)){case"Control+n":case"Control+p":case"Control+v":case"Alt+v":a.preventDefault()}switch((0,g.EL)(a.detail.originalEvent)){case"j":case"k":case"o":case"Enter":case`${m}+Enter`:a.preventDefault()}}}}),(0,e.on)("click",".js-active-navigation-container .js-navigation-item",function(a){u(a)}),(0,e.on)("navigation:keyopen",".js-active-navigation-container .js-navigation-item",function(a){let b=a.currentTarget.classList.contains("js-navigation-open")?a.currentTarget:a.currentTarget.querySelector(".js-navigation-open");if(b instanceof HTMLAnchorElement){if(a.detail.modifierKey)window.open(b.href,"_blank"),window.focus();else{let c=b.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0}));c&&b.click()}a.preventDefault()}else u(a)});let x=[];function y(a){let b=J();b&&x.push(b),v(a)}function z(a){w(a),B(a);let b=x.pop();b&&v(b)}function A(a,b){let c=K(a)[0],d=(b||a).closest(".js-navigation-item")||c;if(v(a),d instanceof HTMLElement){let e=I(d,a);if(e)return;let g=(0,f.VZ)(d);N(g,d)}}function B(a){let b=a.querySelectorAll(".js-navigation-item.navigation-focus");for(let c of b)c.classList.remove("navigation-focus")}function C(a,b){B(a),A(a,b)}function D(a,b){let c=K(b),d=c.indexOf(a),e=c[d-1];if(e){let g=I(e,b);if(g)return;let h=(0,f.VZ)(e);"page"===L(b)?M(h,e):N(h,e)}}function E(a,b){let c=K(b),d=c.indexOf(a),e=c[d+1];if(e){let g=I(e,b);if(g)return;let h=(0,f.VZ)(e);"page"===L(b)?M(h,e):N(h,e)}}function F(a,b){let c=K(b),d=c.indexOf(a),e=(0,f.VZ)(a);if(null==e)return;let g,h;for(;(g=c[d-1])&&(h=(0,f._C)(g,e))&&h.top>=0;)d--;if(g){let i=I(g,b);if(i)return;M(e,g)}}function G(a,b){let c=K(b),d=c.indexOf(a),e=(0,f.VZ)(a);if(null==e)return;let g,h;for(;(g=c[d+1])&&(h=(0,f._C)(g,e))&&h.bottom>=0;)d++;if(g){let i=I(g,b);if(i)return;M(e,g)}}function H(a,b=!1){(0,e.f)(a,"navigation:keyopen",{modifierKey:b})}function I(a,b){return!(0,e.f)(a,"navigation:focus")||(B(b),a.classList.add("navigation-focus"),!1)}function J(){return document.querySelector(".js-active-navigation-container")}function K(a){let b=[];for(let c of a.querySelectorAll(".js-navigation-item"))c instanceof HTMLElement&&(0,k.Z)(c)&&b.push(c);return b}function L(a){return a.getAttribute("data-navigation-scroll")||"item"}function M(a,b,c="smooth"){let d=(0,f._C)(b,a);d&&(d.bottom<=0?b.scrollIntoView({behavior:c,block:"start"}):d.top<=0&&b.scrollIntoView({behavior:c,block:"end"}))}function N(a,b){let c=(0,f.oE)(b,a),d=(0,f._C)(b,a);if(null!=c&&null!=d){if(d.bottom<=0&&document.body){let e=null!=a.offsetParent?a.scrollHeight:document.body.scrollHeight,g=e-(c.bottom+d.height);j(a,{top:g})}else d.top<=0&&j(a,{top:c.top})}}},34855(a,b,c){c.d(b,{b:()=>f});var d=c(80721);let e=[];function f(a,b=!1){void 0===a.timestamp&&(a.timestamp=new Date().getTime()),a.loggedIn=j(),a.staff=k(),e.push(a),b?i():h()}let g=null;async function h(){await d.C,null==g&&(g=window.requestIdleCallback(i))}function i(){if(g=null,!e.length)return;let a=document.head?.querySelector('meta[name="browser-stats-url"]')?.content;if(!a)return;let b=JSON.stringify({stats:e});try{navigator.sendBeacon&&navigator.sendBeacon(a,b)}catch{}e=[]}function j(){return!!document.head?.querySelector('meta[name="user-login"]')?.content}function k(){return!!document.head?.querySelector('meta[name="user-staff"]')?.content}document.addEventListener("pagehide",i),document.addEventListener("visibilitychange",i)},68423(a,b,c){c.d(b,{dY:()=>k,iU:()=>j,oq:()=>i});let d=new WeakMap;function e(a){let b=d.get(a);b&&(null!=b.timer&&clearTimeout(b.timer),b.timer=window.setTimeout(()=>{null!=b.timer&&(b.timer=null),b.inputed=!1,b.listener.call(null,a)},b.wait))}function f(a){let b=a.currentTarget,c=d.get(b);c&&(c.keypressed=!0,null!=c.timer&&clearTimeout(c.timer))}function g(a){let b=a.currentTarget,c=d.get(b);c&&(c.keypressed=!1,c.inputed&&e(b))}function h(a){let b=a.currentTarget,c=d.get(b);c&&(c.inputed=!0,c.keypressed||e(b))}function i(a,b,c={wait:null}){d.set(a,{keypressed:!1,inputed:!1,timer:void 0,listener:b,wait:null!=c.wait?c.wait:100}),a.addEventListener("keydown",f),a.addEventListener("keyup",g),a.addEventListener("input",h)}function j(a,b){a.removeEventListener("keydown",f),a.removeEventListener("keyup",g),a.removeEventListener("input",h);let c=d.get(a);c&&(null!=c.timer&&c.listener===b&&clearTimeout(c.timer),d.delete(a))}function k(a){let b=d.get(a);b&&b.listener.call(null,a)}}},a=>{var b=b=>a(a.s=b);a.O(0,["vendors-node_modules_selector-observer_dist_index_esm_js","vendors-node_modules_github_clipboard-copy-element_dist_index_esm_js-node_modules_github_remo-9d7385","app_assets_modules_github_diffs_blob-lines_ts-app_assets_modules_github_diffs_linkable-line-n-f314c3"],()=>b(89806));var c=a.O()}])
//# sourceMappingURL=gist-2eaf06b56739.js.map